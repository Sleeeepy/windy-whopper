<!--<div ng-include="'components/navbar/navbar.html'"></div>-->

<div class="container">
  <h3>App Prototype</h3>
  <p> <input type="search" class"form-control" placeholder="Search" ng-model="query" ng-change="getAirports()"></p>
  <div class="row">
  <div class="col-md-6">

    <h4 ng-show="query.length<3">Nearby Airports (location: {{myLocation.lng|number:4}}, {{myLocation.lat|number:4}}):</h4>
    <div ng-repeat="airport in airports" >
      <a href="" ng-click="getWeather(airport)"> {{airport.name}} ({{airport.IATA}}) - {{airport.city}}, {{airport.country}} </a>
      <a ng-href="{{airport.wiki}}" target="_blank"> wiki </a>
    </div>
    <table ng-show="visible" class="table table-hover table-bordered">
      <tr>
        <th>Carrier</th>
        <th>Number</th>
        <th>From</th>
        <th>To</th>
        <th>Dep</th>
        <th>Arr</th>
      </tr>
      <tbody >
      <tr ng-repeat="flight in departures.scheduledFlights" ng-click="alert(flight)">
        <td>{{flight.carrierFsCode}}</td>
        <td>{{flight.carrierFsCode}} {{flight.flightNumber}}</td>
        <td>{{flight.departureAirportFsCode}}</td>
        <td>{{flight.arrivalAirportFsCode}}</td>
        <td>{{flight.departureTime | date:'HH:mm'}}</td>
        <td>{{flight.arrivalTime | date:'HH:mm'}}</td>
      </tr>
    </tbody>
    </table>

    <pre ng-show="visible"> {{departures|json}} </pre>
  </div>
  <div class="col-md-3" ng-show="visible">

    <h4 >Current weather </h4>
    <p> {{selection.name}}</p>
    <pre>{{weather|json}}</pre>
  </div>
  <div class="col-md-3" ng-show="visible">

    <h4 >Forecast weather</h4>
    <p> {{selection.name}}</p>
    <pre>{{forecast|json}}</pre>
  </div>
</div>

</div>
